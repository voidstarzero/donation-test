{% extends "base.html" %}
{% load mathfilters %}

{% block title %}Profile - Charity unVigil Donation Tracker{% endblock %}

{% block content %}
<section class="club-title">
    <h1>Welcome, <em id="my-short-name">{{ user.first_name }}</em></h1>
    {% with balance=attendee.balance %}
    <p><strong>Current balance:</strong> ${{ balance.balance }}</p>
    <p><strong>Donated so far:</strong> ${{ balance.cumulative|sub:balance.balance }}</p>
    {% endwith %}
    <div class="right pad-bottom">
        <a href="/pay"><button class="button-good">Add balance</button></a>
        <a href="/donate"><button class="button-good">Donate now!</button></a>
    </div>
</section>
<section>
    <h2>Your Contributions</h2>
    <div class="multi-table pad-bottom">
        <div class="multi-row">
            <a href="/events/really_long">Really Long Event Name to see if things break</a>
            <strong>$10.00</strong>
        </div>
        <div class="multi-row">
            <a href="/events/screencheat">Screencheat</a>
            <strong>$7.00</strong>
        </div>
    </div>
</section>
<section>
    <h2>Action History</h2>
    <div class="multi-table pad-bottom">
        <div class="multi-row">
            <span>21:23 - <em>Screencheat</em></span>
            <strong>$2.00</strong>
            <em>donation</em>
        </div>
        <div class="multi-row">
            <span>21:12 - <em>Really Long Event Name to see if things break</em></span>
            <strong>$10.00</strong>
            <em>donation</em>
        </div>
        <div class="multi-row">
            <span>21:06 - <em>Screencheat</em></span>
            <strong>$5.00</strong>
            <em>donation</em>
        </div>
        <div class="multi-row payment-row">
            <span>21:00 - <em>Add balance</em></span>
            <strong>$37.00</strong>
            <em>payment</em>
        </div>
</section>
<section>
    <p><a href="/">Go back...</a></p>
</section>
{% endblock %}
